(()=>{var e=new Set(Array.from(document.querySelectorAll(".tile")).map((e=>e.dataset.type))),t=document.getElementById("type-select");if(t){const n=document.createElement("option");n.value="",n.textContent="All Types",t.appendChild(n),e.forEach((e=>{const n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}))}function n(){const e=document.getElementById("size-select");if(e){e.innerHTML="";const t=Array.from(document.querySelectorAll(".tile")).filter((e=>"none"!==e.style.display)),n=new Set;t.forEach((e=>{try{JSON.parse(e.dataset.variants||"[]").forEach((e=>n.add(e)))}catch(t){console.warn("Invalid size data:",e.dataset.variants)}}));const o=document.createElement("option");o.value="",o.textContent="All Sizes",e.appendChild(o),n.forEach((t=>{const n=document.createElement("option");n.value=t,n.textContent=t,e.appendChild(n)}))}}n(),t&&t.addEventListener("change",(function(){const e=this.value;document.querySelectorAll(".tile").forEach((t=>{const n=t.dataset.type;t.style.display=""===e||n===e?"":"none"})),n()}));var o=document.getElementById("sort-select"),a=document.getElementById("tile-container");o&&o.addEventListener("change",(function(){const e=Array.from(a.querySelectorAll(".tile"));if("price-asc"===this.value)e.sort(((e,t)=>parseFloat(e.dataset.price)-parseFloat(t.dataset.price)));else{if("price-desc"!==this.value)return;e.sort(((e,t)=>parseFloat(t.dataset.price)-parseFloat(e.dataset.price)))}e.forEach((e=>a.appendChild(e)))}));var c=document.getElementById("size-select");c&&c.addEventListener("change",(function(){const e=this.value,t=document.querySelectorAll(".tile");t.forEach((e=>{e.style.display=""})),t.forEach((t=>{const n=JSON.parse(t.dataset.variants||"[]"),o=""===e||n.includes(e);"none"===t.style.display||(t.style.display=o?"":"none")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".variant-option"),t=document.getElementById("addToCart");e.forEach((n=>{n.addEventListener("click",(function(){e.forEach((e=>e.classList.remove("active")));this.classList.contains("sold-out")?t.disabled=!0:(t.disabled=!1,this.classList.add("active"))}))})),1===e.length&&(t.disabled=!1,e[0].classList.add("active"))}));var l=document.getElementById("addToCart");l&&l.addEventListener("click",(()=>{!function(e){const t=d("cartCookie");console.log("cookieData",t);const n=t?JSON.parse(t):[];console.log("ids (parsed)",n),n.includes(e)||(n.push(e),function(e,t,n=7){const o=new Date(Date.now()+864e5*n).toUTCString();document.cookie=`${e}=${encodeURIComponent(t)}; expires=${o}; path=/`}("cartCookie",JSON.stringify(n)),console.log("Updated cookie:",n))}(parseInt(document.querySelector(".variant-option.active").dataset.id)),d("cartCookie"),document.getElementById("cartModal").style.display="flex"}));var s=document.getElementById("closeModal");function d(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return 2===t.length?decodeURIComponent(t.pop().split(";").shift()):null}console.log(s),s&&s.addEventListener("click",(()=>{document.getElementById("cartModal").style.display="none"}))})();